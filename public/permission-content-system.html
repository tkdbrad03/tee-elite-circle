<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Permission-Based Content System ‚Äî The Tee Elite Circle</title>
  <link rel="icon" type="image/png" href="images/tee-elite-favicon.png">
  <link rel="manifest" href="permission-content-system-manifest.json">
  <meta name="theme-color" content="#1E3932">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Permission System">
  <link rel="apple-touch-icon" href="images/tee-elite-favicon.png">
  <link rel="apple-touch-icon" sizes="180x180" href="images/tee-elite-favicon.png">
  <link rel="apple-touch-icon" sizes="152x152" href="images/tee-elite-favicon.png">
  <link rel="apple-touch-icon" sizes="120x120" href="images/tee-elite-favicon.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;1,400&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">
  
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
  
  <style>
    :root {
      --deep-forest: #1a2f23;
      --dusty-rose: #e8ccc8;
      --soft-cream: #FAF8F5;
      --gold: #D4AF7F;
      --charcoal: #2C2C2C;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Montserrat', sans-serif;
      background: var(--soft-cream);
      color: var(--charcoal);
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
    }

    .header {
      background: var(--deep-forest);
      color: white;
      padding: 24px;
      position: sticky;
      top: 0;
      z-index: 100;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .header h1 {
      font-family: 'Cormorant Garamond', serif;
      font-size: 24px;
      font-weight: 500;
      margin-bottom: 4px;
    }

    .header p {
      font-size: 12px;
      color: rgba(255,255,255,0.7);
      letter-spacing: 0.05em;
    }

    .install-prompt {
      background: var(--gold);
      color: var(--deep-forest);
      padding: 16px 24px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
    }

    .install-prompt-text {
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 13px;
      font-weight: 500;
    }

    .install-buttons {
      display: flex;
      gap: 8px;
    }

    .install-btn, .dismiss-btn {
      padding: 8px 16px;
      border: none;
      border-radius: 4px;
      font-size: 12px;
      font-weight: 500;
      cursor: pointer;
      font-family: 'Montserrat', sans-serif;
    }

    .install-btn {
      background: var(--deep-forest);
      color: white;
    }

    .dismiss-btn {
      background: transparent;
      color: var(--deep-forest);
    }

    .container {
      max-width: 1000px;
      margin: 0 auto;
      padding: 40px 24px 80px;
    }

    .nav-tabs {
      display: flex;
      gap: 8px;
      margin-bottom: 32px;
      border-bottom: 1px solid rgba(0,0,0,0.08);
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
    }

    .nav-tab {
      padding: 12px 20px;
      font-size: 13px;
      font-weight: 500;
      color: #666;
      background: none;
      border: none;
      border-bottom: 2px solid transparent;
      cursor: pointer;
      white-space: nowrap;
      transition: all 0.2s;
    }

    .nav-tab.active {
      color: var(--deep-forest);
      border-bottom-color: var(--deep-forest);
    }

    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
    }

    .card {
      background: white;
      border: 1px solid rgba(0,0,0,0.06);
      border-radius: 8px;
      padding: 32px;
      margin-bottom: 24px;
    }

    .card-title {
      font-family: 'Cormorant Garamond', serif;
      font-size: 22px;
      font-weight: 500;
      color: var(--deep-forest);
      margin-bottom: 20px;
    }

    .card-subtitle {
      font-size: 11px;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: var(--gold);
      margin-bottom: 16px;
      font-weight: 500;
    }

    .checklist-item {
      display: flex;
      gap: 16px;
      padding: 16px 0;
      border-bottom: 1px solid rgba(0,0,0,0.05);
    }

    .checklist-item:last-child {
      border-bottom: none;
    }

    .checklist-checkbox {
      width: 20px;
      height: 20px;
      border: 2px solid #ddd;
      border-radius: 4px;
      cursor: pointer;
      flex-shrink: 0;
      margin-top: 2px;
      transition: all 0.2s;
    }

    .checklist-checkbox.checked {
      background: var(--deep-forest);
      border-color: var(--deep-forest);
      position: relative;
    }

    .checklist-checkbox.checked::after {
      content: '‚úì';
      color: white;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 14px;
    }

    .checklist-content {
      flex: 1;
    }

    .checklist-title {
      font-size: 15px;
      font-weight: 500;
      color: var(--charcoal);
      margin-bottom: 4px;
    }

    .checklist-desc {
      font-size: 13px;
      color: #666;
      line-height: 1.5;
    }

    .progress-bar {
      background: #f0f0f0;
      height: 8px;
      border-radius: 4px;
      overflow: hidden;
      margin: 20px 0;
    }

    .progress-fill {
      background: var(--deep-forest);
      height: 100%;
      transition: width 0.3s ease;
    }

    .progress-text {
      font-size: 12px;
      color: #888;
      margin-top: 8px;
    }
    .card-priority {
    border-left: 5px solid var(--gold) !important;
    background-color: rgba(197, 168, 124, 0.05);
}

    .btn {
      display: inline-block;
      padding: 12px 24px;
      font-family: 'Montserrat', sans-serif;
      font-size: 13px;
      font-weight: 500;
      text-decoration: none;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .btn-primary {
      background: var(--deep-forest);
      color: white;
    }

    .btn-primary:hover {
      background: #0f1f17;
    }

    .btn-secondary {
      background: #f5f5f5;
      color: var(--charcoal);
    }

    .btn-secondary:hover {
      background: #e8e8e8;
    }

    .quick-links {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 12px;
      margin-top: 20px;
    }

    .quick-link {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 16px;
      background: #f9f9f9;
      border: 1px solid rgba(0,0,0,0.06);
      border-radius: 6px;
      text-decoration: none;
      color: var(--charcoal);
      font-size: 13px;
      font-weight: 500;
      transition: all 0.2s;
    }

    .quick-link:hover {
      background: #f0f0f0;
      border-color: var(--deep-forest);
    }

    .quick-link svg {
      width: 16px;
      height: 16px;
      stroke: var(--deep-forest);
      stroke-width: 2;
      fill: none;
    }

    .template-box {
      background: #fafafa;
      border: 1px solid #e5e5e5;
      border-radius: 6px;
      padding: 20px;
      margin-top: 16px;
      font-size: 13px;
      line-height: 1.8;
    }

    .template-box code {
      font-family: 'Courier New', monospace;
      background: white;
      padding: 2px 6px;
      border-radius: 3px;
      font-size: 12px;
    }

    .copy-btn {
      padding: 6px 12px;
      font-size: 11px;
      margin-top: 12px;
    }

    .theme-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 12px;
      margin-top: 16px;
    }

    .theme-card {
      padding: 16px;
      background: white;
      border: 1px solid rgba(0,0,0,0.06);
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .theme-card:hover {
      border-color: var(--deep-forest);
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    }

    .theme-card h4 {
      font-size: 14px;
      font-weight: 500;
      color: var(--deep-forest);
      margin-bottom: 4px;
    }

    .theme-card p {
      font-size: 12px;
      color: #666;
    }

    .collapsible {
      border: 1px solid rgba(0,0,0,0.06);
      border-radius: 6px;
      margin-bottom: 12px;
      overflow: hidden;
    }

    .collapsible-header {
      padding: 16px 20px;
      background: #fafafa;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-weight: 500;
      font-size: 14px;
    }

    .collapsible-header:hover {
      background: #f5f5f5;
    }

    .collapsible-icon {
      transition: transform 0.3s;
    }

    .collapsible-icon.open {
      transform: rotate(180deg);
    }

    .collapsible-content {
      display: none;
      padding: 20px;
      background: white;
    }

    .collapsible-content.open {
      display: block;
    }

    @media (max-width: 768px) {
      .container {
        padding: 24px 16px 60px;
      }

      .card {
        padding: 24px 20px;
      }

      .quick-links {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>

  <!-- Install Prompt -->
  <div id="installPrompt" class="install-prompt" style="display: none;">
    <div class="install-prompt-text">
      <span>üì≤</span>
      <span>Install this app on your phone for quick access</span>
    </div>
    <div class="install-buttons">
      <button class="install-btn" onclick="installApp()">Install App</button>
      <button class="dismiss-btn" onclick="dismissInstall()">Not Now</button>
    </div>
  </div>

  <!-- Header -->
  <div class="header">
    <h1>The Permission System</h1>
    <p>Your content creation command center</p>
  </div>

  <!-- Main Container -->
  <div class="container">

    <!-- Navigation Tabs -->
    <div class="nav-tabs">
      <button class="nav-tab active" onclick="switchTab('workflow')">Monthly Workflow</button>
      <button class="nav-tab" onclick="switchTab('tracker')">Upload Tracker</button>
      <button class="nav-tab" onclick="switchTab('canon')">Canon Reference</button>
      <button class="nav-tab" onclick="switchTab('themes')">Theme Bank</button>
      <button class="nav-tab" onclick="switchTab('links')">Quick Links</button>
    </div>

    <!-- Tab 1: Monthly Workflow -->
    <div id="workflow" class="tab-content active">
      <div class="card">
        <div class="card-subtitle">Monthly Progress</div>
        <div class="progress-bar">
          <div class="progress-fill" id="progressBar" style="width: 0%"></div>
        </div>
        <p class="progress-text"><span id="progressText">0 of 8 complete (0%)</span></p>
      </div>

      <div class="card">
        <h2 class="card-title">Monthly Batching Checklist</h2>
        <p style="font-size: 14px; color: #666; margin-bottom: 24px;">Complete these steps once per month. Time estimate: 4-6 hours total.</p>

        <div class="checklist">
          <div class="checklist-item" data-task="task1">
            <div class="checklist-checkbox" onclick="toggleTask('task1')"></div>
            <div class="checklist-content">
              <div class="checklist-title">1. Identify 4 Weekly Themes</div>
              <div class="checklist-desc">Choose one permission theme for each week of the month. Use Theme Bank for inspiration. <a href="https://drive.google.com/drive/folders/1v0GeXEGMrYJk4Hg68OHp3Ivx6gmJ94id?usp=sharing" target="_blank" style="color: #1a2f23; text-decoration: underline;">Open in Google Drive ‚Üí</a></div>
            </div>
          </div>

          <div class="checklist-item" data-task="task2">
            <div class="checklist-checkbox" onclick="toggleTask('task2')"></div>
            <div class="checklist-content">
              <div class="checklist-title">2. Write 4 Blog Posts</div>
              <div class="checklist-desc">One blog post per weekly theme. Use Canon format. Include featured images. 600-1200 words each. <a href="https://drive.google.com/drive/folders/1v0GeXEGMrYJk4Hg68OHp3Ivx6gmJ94id?usp=sharing" target="_blank" style="color: #1a2f23; text-decoration: underline;">Open in Google Drive ‚Üí</a></div>
            </div>
          </div>

          <div class="checklist-item" data-task="task3">
            <div class="checklist-checkbox" onclick="toggleTask('task3')"></div>
            <div class="checklist-content">
              <div class="checklist-title">3. Record 4 Podcast Episodes</div>
              <div class="checklist-desc">One episode per theme (same as blogs). 8-15 minutes each. Use standard opening/closing scripts. <a href="https://my.captivate.fm/dashboard/podcast/79f2d016-e2fb-4e33-b9cb-403d6c45aa5b/episode" target="_blank" style="color: #1a2f23; text-decoration: underline;">Open in Captivate ‚Üí</a></div>
            </div>
          </div>

          <div class="checklist-item" data-task="task4">
            <div class="checklist-checkbox" onclick="toggleTask('task4')"></div>
            <div class="checklist-content">
              <div class="checklist-title">4. Extract 28 Daily Briefs</div>
              <div class="checklist-desc">Pull 7 briefs from each weekly theme (from blog + podcast insights). Use Brief Template in Admin.</div>
            </div>
          </div>

          <div class="checklist-item" data-task="task5">
            <div class="checklist-checkbox" onclick="toggleTask('task5')"></div>
            <div class="checklist-content">
              <div class="checklist-title">5. Schedule Briefs in Admin</div>
              <div class="checklist-desc">Upload all 28-31 briefs to Admin panel. Schedule for 6:00 AM daily throughout the month.</div>
            </div>
          </div>

          <div class="checklist-item" data-task="task6">
            <div class="checklist-checkbox" onclick="toggleTask('task6')"></div>
            <div class="checklist-content">
              <div class="checklist-title">6. Schedule Blogs for Fridays</div>
              <div class="checklist-desc">Add all 4 blog posts to Admin. Schedule for Friday mornings (Week 1, 2, 3, 4).</div>
            </div>
          </div>

          <div class="checklist-item" data-task="task7">
            <div class="checklist-checkbox" onclick="toggleTask('task7')"></div>
            <div class="checklist-content">
              <div class="checklist-title">7. Upload Podcasts to Captivate</div>
              <div class="checklist-desc">Upload all 4 episodes to Captivate. Mark 2 public, 2 members-only. Schedule releases. <a href="https://my.captivate.fm/dashboard/podcast/79f2d016-e2fb-4e33-b9cb-403d6c45aa5b/episode" target="_blank" style="color: #1a2f23; text-decoration: underline;">Open in Captivate ‚Üí</a></div>
            </div>
          </div>

          <div class="checklist-item" data-task="task8">
            <div class="checklist-checkbox" onclick="toggleTask('task8')"></div>
            <div class="checklist-content">
              <div class="checklist-title">8. Verify & Confirm</div>
              <div class="checklist-desc">Check Tee Room preview. Verify all dates correct. Confirm member-only episodes linked. Done!</div>
            </div>
          </div>
        </div>
        
<div class="card" style="margin-top: 32px; border-top: 4px solid var(--gold);">
  <div class="card-subtitle">Media Arm Strategy</div>
  <h2 class="card-title">YouTube: The "Tee Elite 100" Relaunch</h2>
  <p style="font-size: 14px; color: #666; margin-bottom: 24px;">Transforming loops into "Environments" to attract the first 100 members.</p>

  <div class="checklist">
    <div class="checklist-item" data-task="yt1">
      <div class="checklist-checkbox" onclick="toggleTask('yt1')"></div>
      <div class="checklist-content">
        <div class="checklist-title">Update Channel 'About' to Prose Standards</div>
        <div class="checklist-desc">Remove bullets. Assume she is capable. End with "You already know what to do."</div>
      </div>
    </div>

    <div class="checklist-item" data-task="yt2">
      <div class="checklist-checkbox" onclick="toggleTask('yt2')"></div>
      <div class="checklist-content">
        <div class="checklist-title">Publish 7 'Permission Environments'</div>
        <div class="checklist-desc">Change visibility from Private to Public. Update titles to "Environment/Atmosphere" names.</div>
      </div>
    </div>

    <div class="checklist-item" data-task="yt3">
      <div class="checklist-checkbox" onclick="toggleTask('yt3')"></div>
      <div class="checklist-content">
        <div class="checklist-title">Apply Prose Descriptions & Pinned Comments</div>
        <div class="checklist-desc">Use the Observation > Truth > Permission format. Pin the Circle invitation link on every video.</div>
      </div>
    </div>

    <div class="checklist-item" data-task="yt4">
      <div class="checklist-checkbox" onclick="toggleTask('yt4')"></div>
      <div class="checklist-content">
        <div class="checklist-title">Execute 5-Day Community Tab Sequence</div>
        <div class="checklist-desc">Day 1: Return | Day 2: Wealth | Day 3: Poll | Day 4: Identity | Day 5: Circle Invitation.</div>
      </div>
    </div>
  </div>
</div>
        <div class="card" style="margin-top: 32px;">
        <h2 class="card-title">Environment Conversion Tracker</h2>
        <div style="overflow-x: auto;">
          <table style="width: 100%; border-collapse: collapse; font-size: 13px;">
            <thead>
              <tr style="border-bottom: 2px solid var(--deep-forest); text-align: left;">
                <th style="padding: 12px;">Environment Name</th>
                <th style="padding: 12px;">Conversion Path</th>
                <th style="padding: 12px;">Status</th>
              </tr>
            </thead>
            <tbody>
              <tr style="border-bottom: 1px solid rgba(0,0,0,0.05);">
                <td style="padding: 12px;">The Wealth Environment</td>
                <td style="padding: 12px;">Tee Elite Circle / Wealth Mastermind</td>
                <td style="padding: 12px; color: var(--gold);">Ready to Public</td>
              </tr>
              <tr style="border-bottom: 1px solid rgba(0,0,0,0.05);">
                <td style="padding: 12px;">The Sovereignty Atmosphere</td>
                <td style="padding: 12px;">Tee Elite Circle Invitation</td>
                <td style="padding: 12px; color: var(--gold);">Ready to Public</td>
              </tr>
              <tr style="border-bottom: 1px solid rgba(0,0,0,0.05);">
                <td style="padding: 12px;">The Evolution Environment</td>
                <td style="padding: 12px;">Brand Presence / Awareness</td>
                <td style="padding: 12px; color: var(--gold);">Ready to Public</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

        <button class="btn btn-secondary" onclick="resetChecklist()" style="margin-top: 24px;">Reset Checklist</button>
      </div>
    </div>

    <!-- Tab 2: Upload Tracker -->
    <div id="tracker" class="tab-content">
      <div class="card">
        <h2 class="card-title">6-Week Content Upload Tracker</h2>
        <p style="font-size: 14px; color: #666; margin-bottom: 24px;">Track your progress uploading pre-written content to the Admin panel. 40 pieces total.</p>

        <div style="background: #f9f9f9; padding: 20px; border-radius: 6px; margin-bottom: 24px;">
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 16px; text-align: center;">
            <div>
              <div style="font-size: 28px; font-weight: 500; color: var(--deep-forest);" id="uploadedCount">0</div>
              <div style="font-size: 12px; color: #666;">Uploaded</div>
            </div>
            <div>
              <div style="font-size: 28px; font-weight: 500; color: #888;">40</div>
              <div style="font-size: 12px; color: #666;">Total Pieces</div>
            </div>
            <div>
              <div style="font-size: 28px; font-weight: 500; color: var(--gold);" id="uploadPercentage">0%</div>
              <div style="font-size: 12px; color: #666;">Complete</div>
            </div>
          </div>
        </div>

        <!-- Week 1 -->
        <div class="collapsible">
          <div class="collapsible-header" onclick="toggleCollapsible(this)">
            <span>Week 1: Permission to Admit You've Outgrown It (9 pieces)</span>
            <span class="collapsible-icon">‚ñº</span>
          </div>
          <div class="collapsible-content">
            <p style="font-size: 13px; color: #666; margin-bottom: 16px;"><strong>Theme:</strong> Discipline vs. Alignment | <strong>Dates:</strong> January 8-14, 2026</p>
            
            <div class="checklist-item" data-upload="week1-jan8">
              <div class="checklist-checkbox" onclick="toggleUpload('week1-jan8')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Jan 8 - Outgrown It</div>
                <div class="checklist-desc">File: Jan-8-outgrown-it.txt</div>
              </div>
            </div>

            <div class="checklist-item" data-upload="week1-jan9">
              <div class="checklist-checkbox" onclick="toggleUpload('week1-jan9')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Jan 9 - Procrastination</div>
                <div class="checklist-desc">File: Jan-9-procrastination.txt</div>
              </div>
            </div>

            <div class="checklist-item" data-upload="week1-jan10">
              <div class="checklist-checkbox" onclick="toggleUpload('week1-jan10')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Jan 10 - Self-Trust</div>
                <div class="checklist-desc">File: Jan-10-self-trust.txt</div>
              </div>
            </div>

            <div class="checklist-item" data-upload="week1-jan11">
              <div class="checklist-checkbox" onclick="toggleUpload('week1-jan11')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Jan 11 - Pride</div>
                <div class="checklist-desc">File: Jan-11-pride.txt</div>
              </div>
            </div>

            <div class="checklist-item" data-upload="week1-jan12">
              <div class="checklist-checkbox" onclick="toggleUpload('week1-jan12')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Jan 12 - Burnout</div>
                <div class="checklist-desc">File: Jan-12-burnout.txt</div>
              </div>
            </div>

            <div class="checklist-item" data-upload="week1-jan13">
              <div class="checklist-checkbox" onclick="toggleUpload('week1-jan13')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Jan 13 - Breakdown</div>
                <div class="checklist-desc">File: Jan-13-breakdown.txt</div>
              </div>
            </div>

            <div class="checklist-item" data-upload="week1-jan14">
              <div class="checklist-checkbox" onclick="toggleUpload('week1-jan14')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Jan 14 - Relief</div>
                <div class="checklist-desc">File: Jan-14-relief.txt</div>
              </div>
            </div>

            <div class="checklist-item" data-upload="week1-blog">
              <div class="checklist-checkbox" onclick="toggleUpload('week1-blog')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Jan 14 - Blog: You Don't Need to Be More Disciplined</div>
                <div class="checklist-desc">File: week-1-discipline-vs-alignment.txt</div>
              </div>
            </div>

            <div class="checklist-item" data-upload="week1-podcast">
              <div class="checklist-checkbox" onclick="toggleUpload('week1-podcast')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Jan 14 - Podcast: You Don't Need to Be More Disciplined</div>
                <div class="checklist-desc">File: week-1-discipline-podcast.txt</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Week 2-6 Collapsed (add similar structure) -->
        <div class="collapsible">
          <div class="collapsible-header" onclick="toggleCollapsible(this)">
            <span>Week 2: Permission to Want More (9 pieces)</span>
            <span class="collapsible-icon">‚ñº</span>
          </div>
          <div class="collapsible-content">
            <p style="font-size: 13px; color: #666; margin-bottom: 16px;"><strong>Theme:</strong> Desire as Information | <strong>Dates:</strong> January 15-21, 2026</p>
            
            <div class="checklist-item" data-upload="week2-jan15">
              <div class="checklist-checkbox" onclick="toggleUpload('week2-jan15')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Jan 15 - Wanting More Disclaimer</div>
                <div class="checklist-desc">Location: week-2-briefs folder</div>
              </div>
            </div>

            <div class="checklist-item" data-upload="week2-jan16">
              <div class="checklist-checkbox" onclick="toggleUpload('week2-jan16')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Jan 16 - Real vs Polite Desire</div>
                <div class="checklist-desc">Location: week-2-briefs folder</div>
              </div>
            </div>

            <div class="checklist-item" data-upload="week2-jan17">
              <div class="checklist-checkbox" onclick="toggleUpload('week2-jan17')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Jan 17 - External Doubt</div>
                <div class="checklist-desc">Location: week-2-briefs folder</div>
              </div>
            </div>

            <div class="checklist-item" data-upload="week2-jan18">
              <div class="checklist-checkbox" onclick="toggleUpload('week2-jan18')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Jan 18 - Disrupting Relationships</div>
                <div class="checklist-desc">Location: week-2-briefs folder</div>
              </div>
            </div>

            <div class="checklist-item" data-upload="week2-jan19">
              <div class="checklist-checkbox" onclick="toggleUpload('week2-jan19')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Jan 19 - Ambition's Backstory</div>
                <div class="checklist-desc">Location: week-2-briefs folder</div>
              </div>
            </div>

            <div class="checklist-item" data-upload="week2-jan20">
              <div class="checklist-checkbox" onclick="toggleUpload('week2-jan20')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Jan 20 - Desire Turns to Analysis</div>
                <div class="checklist-desc">Location: week-2-briefs folder</div>
              </div>
            </div>

            <div class="checklist-item" data-upload="week2-jan21">
              <div class="checklist-checkbox" onclick="toggleUpload('week2-jan21')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Jan 21 - Permission Granted</div>
                <div class="checklist-desc">Location: week-2-briefs folder</div>
              </div>
            </div>

            <div class="checklist-item" data-upload="week2-blog">
              <div class="checklist-checkbox" onclick="toggleUpload('week2-blog')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Jan 21 - Blog: The Version of You Who Wants More</div>
                <div class="checklist-desc">Location: feature-blogs folder</div>
              </div>
            </div>

            <div class="checklist-item" data-upload="week2-podcast">
              <div class="checklist-checkbox" onclick="toggleUpload('week2-podcast')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Jan 21 - Podcast: The Version of You Who Wants More</div>
                <div class="checklist-desc">Location: podcast-scripts folder</div>
              </div>
            </div>
          </div>
        </div>

        <div class="collapsible">
          <div class="collapsible-header" onclick="toggleCollapsible(this)">
            <span>Week 3: Permission to Charge (3 pieces)</span>
            <span class="collapsible-icon">‚ñº</span>
          </div>
          <div class="collapsible-content">
            <p style="font-size: 13px; color: #666; margin-bottom: 16px;"><strong>Theme:</strong> Wealth as Permission | <strong>Dates:</strong> January 22-28, 2026</p>
            
            <div class="checklist-item" data-upload="week3-jan22">
              <div class="checklist-checkbox" onclick="toggleUpload('week3-jan22')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Jan 22 - High Cost of Being Acceptable</div>
                <div class="checklist-desc">Location: week-3-briefs folder</div>
              </div>
            </div>

            <div class="checklist-item" data-upload="week3-blog">
              <div class="checklist-checkbox" onclick="toggleUpload('week3-blog')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Jan 28 - Blog: Being Paid Well vs. Greedy</div>
                <div class="checklist-desc">Location: feature-blogs folder</div>
              </div>
            </div>

            <div class="checklist-item" data-upload="week3-podcast">
              <div class="checklist-checkbox" onclick="toggleUpload('week3-podcast')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Jan 28 - Podcast: Wealth as Permission</div>
                <div class="checklist-desc">Location: podcast-scripts folder</div>
              </div>
            </div>
          </div>
        </div>

        <div class="collapsible">
          <div class="collapsible-header" onclick="toggleCollapsible(this)">
            <span>Week 4: Permission to Stop Explaining (3 pieces)</span>
            <span class="collapsible-icon">‚ñº</span>
          </div>
          <div class="collapsible-content">
            <p style="font-size: 13px; color: #666; margin-bottom: 16px;"><strong>Theme:</strong> Reinvention without Burning Down | <strong>Dates:</strong> Jan 29 - Feb 4, 2026</p>
            
            <div class="checklist-item" data-upload="week4-jan29">
              <div class="checklist-checkbox" onclick="toggleUpload('week4-jan29')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Jan 29 - The Approval Tax</div>
                <div class="checklist-desc">Location: week-4-briefs folder</div>
              </div>
            </div>

            <div class="checklist-item" data-upload="week4-blog">
              <div class="checklist-checkbox" onclick="toggleUpload('week4-blog')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Feb 4 - Blog: Not Required to Explain Choices</div>
                <div class="checklist-desc">Location: feature-blogs folder</div>
              </div>
            </div>

            <div class="checklist-item" data-upload="week4-podcast">
              <div class="checklist-checkbox" onclick="toggleUpload('week4-podcast')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Feb 4 - Podcast: Reinvention without Burning Down</div>
                <div class="checklist-desc">Location: podcast-scripts folder</div>
              </div>
            </div>
          </div>
        </div>

        <div class="collapsible">
          <div class="collapsible-header" onclick="toggleCollapsible(this)">
            <span>Week 5: Permission to Rest (9 pieces)</span>
            <span class="collapsible-icon">‚ñº</span>
          </div>
          <div class="collapsible-content">
            <p style="font-size: 13px; color: #666; margin-bottom: 16px;"><strong>Theme:</strong> Rest as Strategy | <strong>Dates:</strong> February 5-11, 2026</p>
            
            <div class="checklist-item" data-upload="week5-feb5">
              <div class="checklist-checkbox" onclick="toggleUpload('week5-feb5')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Feb 5 - Over-functioning</div>
                <div class="checklist-desc">Location: week-5-briefs folder</div>
              </div>
            </div>

            <div class="checklist-item" data-upload="week5-feb6">
              <div class="checklist-checkbox" onclick="toggleUpload('week5-feb6')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Feb 6 - Production vs Identity</div>
                <div class="checklist-desc">Location: week-5-briefs folder</div>
              </div>
            </div>

            <div class="checklist-item" data-upload="week5-feb7">
              <div class="checklist-checkbox" onclick="toggleUpload('week5-feb7')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Feb 7 - Rest as Leadership</div>
                <div class="checklist-desc">Location: week-5-briefs folder</div>
              </div>
            </div>

            <div class="checklist-item" data-upload="week5-feb8">
              <div class="checklist-checkbox" onclick="toggleUpload('week5-feb8')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Feb 8 - Rest Without Explanation</div>
                <div class="checklist-desc">Location: week-5-briefs folder</div>
              </div>
            </div>

            <div class="checklist-item" data-upload="week5-feb9">
              <div class="checklist-checkbox" onclick="toggleUpload('week5-feb9')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Feb 9 - Identity Without Production</div>
                <div class="checklist-desc">Location: week-5-briefs folder</div>
              </div>
            </div>

            <div class="checklist-item" data-upload="week5-feb10">
              <div class="checklist-checkbox" onclick="toggleUpload('week5-feb10')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Feb 10 - Strategic Withdrawal</div>
                <div class="checklist-desc">Location: week-5-briefs folder</div>
              </div>
            </div>

            <div class="checklist-item" data-upload="week5-feb11">
              <div class="checklist-checkbox" onclick="toggleUpload('week5-feb11')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Feb 11 - Rest Permission</div>
                <div class="checklist-desc">Location: week-5-briefs folder</div>
              </div>
            </div>

            <div class="checklist-item" data-upload="week5-blog">
              <div class="checklist-checkbox" onclick="toggleUpload('week5-blog')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Feb 11 - Blog: You Don't Rest Because You're Tired</div>
                <div class="checklist-desc">Location: feature-blogs folder</div>
              </div>
            </div>

            <div class="checklist-item" data-upload="week5-podcast">
              <div class="checklist-checkbox" onclick="toggleUpload('week5-podcast')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Feb 11 - Podcast: Permission to Rest Without Guilt</div>
                <div class="checklist-desc">Location: podcast-scripts folder</div>
              </div>
            </div>
          </div>
        </div>

        <div class="collapsible">
          <div class="collapsible-header" onclick="toggleCollapsible(this)">
            <span>Week 6: Permission to Be Seen (9 pieces)</span>
            <span class="collapsible-icon">‚ñº</span>
          </div>
          <div class="collapsible-content">
            <p style="font-size: 13px; color: #666; margin-bottom: 16px;"><strong>Theme:</strong> Presence vs Performance | <strong>Dates:</strong> February 12-18, 2026</p>
            
            <div class="checklist-item" data-upload="week6-feb12">
              <div class="checklist-checkbox" onclick="toggleUpload('week6-feb12')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Feb 12 - Seen Without Effort</div>
                <div class="checklist-desc">Location: week-6-briefs folder</div>
              </div>
            </div>

            <div class="checklist-item" data-upload="week6-feb13">
              <div class="checklist-checkbox" onclick="toggleUpload('week6-feb13')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Feb 13 - Performance Thrives on Anticipation</div>
                <div class="checklist-desc">Location: week-6-briefs folder</div>
              </div>
            </div>

            <div class="checklist-item" data-upload="week6-feb14">
              <div class="checklist-checkbox" onclick="toggleUpload('week6-feb14')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Feb 14 - Control vs Sovereignty</div>
                <div class="checklist-desc">Location: week-6-briefs folder</div>
              </div>
            </div>

            <div class="checklist-item" data-upload="week6-feb15">
              <div class="checklist-checkbox" onclick="toggleUpload('week6-feb15')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Feb 15 - True Visibility</div>
                <div class="checklist-desc">Location: week-6-briefs folder</div>
              </div>
            </div>

            <div class="checklist-item" data-upload="week6-feb16">
              <div class="checklist-checkbox" onclick="toggleUpload('week6-feb16')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Feb 16 - Rehearsing Life</div>
                <div class="checklist-desc">Location: week-6-briefs folder</div>
              </div>
            </div>

            <div class="checklist-item" data-upload="week6-feb17">
              <div class="checklist-checkbox" onclick="toggleUpload('week6-feb17')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Feb 17 - Less Effort More Weight</div>
                <div class="checklist-desc">Location: week-6-briefs folder</div>
              </div>
            </div>

            <div class="checklist-item" data-upload="week6-feb18">
              <div class="checklist-checkbox" onclick="toggleUpload('week6-feb18')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Feb 18 - Trust Your Presence</div>
                <div class="checklist-desc">Location: week-6-briefs folder</div>
              </div>
            </div>

            <div class="checklist-item" data-upload="week6-blog">
              <div class="checklist-checkbox" onclick="toggleUpload('week6-blog')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Feb 18 - Blog: You Don't Need to Perform</div>
                <div class="checklist-desc">Location: feature-blogs folder</div>
              </div>
            </div>

            <div class="checklist-item" data-upload="week6-podcast">
              <div class="checklist-checkbox" onclick="toggleUpload('week6-podcast')"></div>
              <div class="checklist-content">
                <div class="checklist-title">Feb 18 - Podcast: Being Seen Without Performing</div>
                <div class="checklist-desc">Location: podcast-scripts folder</div>
              </div>
            </div>
          </div>
        </div>

        <div style="margin-top: 24px; padding: 20px; background: #f9f9f9; border-radius: 6px;">
          <strong style="font-size: 14px; color: var(--deep-forest);">Upload Workflow:</strong>
          <ol style="font-size: 13px; color: #666; margin-top: 12px; line-height: 1.8;">
            <li>Open file from Google Drive</li>
            <li>Go to Admin ‚Üí Click "Load Brief Template"</li>
            <li>Copy/paste content</li>
            <li>Set schedule date (6:00 AM)</li>
            <li>Click "Add Post"</li>
            <li>Return here and check box</li>
          </ol>
        </div>
      </div>
    </div>

    <!-- Tab 3: Canon Reference -->
    <div id="canon" class="tab-content">
      <div class="card">
        <h2 class="card-title">The Rich Friends Canon</h2>
        <p style="font-size: 14px; color: #666; margin-bottom: 24px;">Copy/paste templates and voice standards. This is your content Bible.</p>

        <!-- Brief Format -->
        <div class="collapsible">
          <div class="collapsible-header" onclick="toggleCollapsible(this)">
            <span>TMac Morning Brief Format</span>
            <span class="collapsible-icon">‚ñº</span>
          </div>
          <div class="collapsible-content">
            <div class="template-box">
              <strong>Title:</strong><br>
              TMac Morning Brief | [Month Day, Year]<br><br>

              <strong>Excerpt:</strong><br>
              Daily permission for women ready to stop negotiating with the life they want.<br><br>

              <strong>First Line (ITALIC):</strong><br>
              <em>You already know what to do.</em><br><br>

              <strong>Body Structure:</strong><br>
              1. Observation (pattern you're noticing)<br>
              2. Clarifying truth<br>
              3. Permission granted<br><br>

              <strong>Ending:</strong><br>
              The Tee Elite Truth.<br><br>

              <strong>Length:</strong> 150-300 words
            </div>
            <button class="btn btn-secondary copy-btn" onclick="copyTemplate('brief')">Copy Template</button>
          </div>
        </div>

        <!-- Blog Format -->
        <div class="collapsible">
          <div class="collapsible-header" onclick="toggleCollapsible(this)">
            <span>Blog Post Format</span>
            <span class="collapsible-icon">‚ñº</span>
          </div>
          <div class="collapsible-content">
            <div class="template-box">
              <strong>Title:</strong><br>
              [Clear, direct statement about the permission being granted]<br><br>

              <strong>First Line (ITALIC):</strong><br>
              <em>You already know what to do.</em><br><br>

              <strong>Body Structure:</strong><br>
              1. Observation<br>
              2. Specific story or real pattern<br>
              3. Principle (the truth underneath)<br>
              4. Permission woven throughout<br>
              5. Clean close<br><br>

              <strong>Ending:</strong><br>
              See you on the course,<br>
              Dr. TMacüèåüèΩ‚Äç‚ôÄÔ∏è<br><br>

              <strong>Length:</strong> 600-1200 words<br>
              <strong>Format:</strong> Prose only, no bullets in body
            </div>
            <button class="btn btn-secondary copy-btn" onclick="copyTemplate('blog')">Copy Template</button>
          </div>
        </div>

        <!-- Podcast Scripts -->
        <div class="collapsible">
          <div class="collapsible-header" onclick="toggleCollapsible(this)">
            <span>Podcast Opening & Closing Scripts</span>
            <span class="collapsible-icon">‚ñº</span>
          </div>
          <div class="collapsible-content">
            <div class="template-box">
              <strong>Standard Opening (VERBATIM):</strong><br>
              <em>You already know what to do.</em><br><br>

              This is The Rich Friends Show.<br><br>

              A quiet conversation for women who are done negotiating with the life they want.<br><br>

              Let's begin.<br><br>

              <strong>Standard Closing (SPOKEN):</strong><br>
              <em>You already know what to do.</em><br><br>

              [End recording]
            </div>
            <button class="btn btn-secondary copy-btn" onclick="copyTemplate('podcast')">Copy Scripts</button>
          </div>
        </div>

        <!-- Voice Standards -->
        <div class="collapsible">
          <div class="collapsible-header" onclick="toggleCollapsible(this)">
            <span>Voice Standards</span>
            <span class="collapsible-icon">‚ñº</span>
          </div>
          <div class="collapsible-content">
            <div class="template-box">
              <strong>Assumptions We Always Make:</strong><br>
              ‚Ä¢ She already knows<br>
              ‚Ä¢ She is capable<br>
              ‚Ä¢ She is deciding<br><br>

              <strong>What We Never Do:</strong><br>
              ‚Ä¢ Explain basics<br>
              ‚Ä¢ Teach step-by-step<br>
              ‚Ä¢ Justify ambition or desire<br>
              ‚Ä¢ Perform authority<br>
              ‚Ä¢ Over-motivate<br>
              ‚Ä¢ Use excessive formatting<br><br>

              <strong>What We Always Do:</strong><br>
              ‚Ä¢ Observe patterns<br>
              ‚Ä¢ Name truth calmly<br>
              ‚Ä¢ Grant permission without asking<br>
              ‚Ä¢ Close cleanly with signature only<br>
              ‚Ä¢ Write in prose (paragraphs, not lists)<br>
              ‚Ä¢ Let silence do the work
            </div>
          </div>
        </div>

        <!-- Permission Check -->
        <div class="collapsible">
          <div class="collapsible-header" onclick="toggleCollapsible(this)">
            <span>The Permission Check (Before Publishing)</span>
            <span class="collapsible-icon">‚ñº</span>
          </div>
          <div class="collapsible-content">
            <div class="template-box">
              Before anything goes live, confirm:<br><br>

              ‚úì Does this grant permission?<br>
              ‚úì Does it assume she already knows?<br>
              ‚úì Is there any explaining or justifying?<br>
              ‚úì Does it end with the correct signature?<br>
              ‚úì Is it written in prose (no bullets in body)?<br>
              ‚úì Does it trust silence and space?<br><br>

              <strong>If no ‚Üí revise.</strong>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Tab 3: Theme Bank -->
    <div id="themes" class="tab-content">
      <div class="card">
        <h2 class="card-title">Permission Theme Bank</h2>
        <p style="font-size: 14px; color: #666; margin-bottom: 24px;">Pre-approved themes to build your monthly content calendar around.</p>

        <div class="theme-grid">
          <div class="theme-card">
            <h4>Discipline vs. Alignment</h4>
            <p>When forcing stops working</p>
          </div>

          <div class="theme-card">
            <h4>Visibility without Performance</h4>
            <p>Showing up as yourself</p>
          </div>

          <div class="theme-card">
            <h4>Wealth as Permission</h4>
            <p>Money as freedom, not validation</p>
          </div>

          <div class="theme-card">
            <h4>Reinvention without Burning Down</h4>
            <p>Evolution, not destruction</p>
          </div>

          <div class="theme-card">
            <h4>The Cost of Being Liked</h4>
            <p>When pleasing others costs you</p>
          </div>

          <div class="theme-card">
            <h4>Networks vs. Transactions</h4>
            <p>Real relationships, not contacts</p>
          </div>

          <div class="theme-card">
            <h4>Second Act Success</h4>
            <p>Starting over with wisdom</p>
          </div>

          <div class="theme-card">
            <h4>Delegation as Power</h4>
            <p>Releasing control to grow</p>
          </div>

          <div class="theme-card">
            <h4>Rest as Strategy</h4>
            <p>Slowing down to speed up</p>
          </div>

          <div class="theme-card">
            <h4>Outgrowing Earned Success</h4>
            <p>Leaving what you built</p>
          </div>

          <div class="theme-card">
            <h4>Fear Without a Vote</h4>
            <p>Moving despite uncertainty</p>
          </div>

          <div class="theme-card">
            <h4>The Right Rooms</h4>
            <p>Access without performing</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Tab 4: Quick Links -->
    <div id="links" class="tab-content">
      <div class="card">
        <h2 class="card-title">Platform Quick Links</h2>
        
        <div class="quick-links">
          <a href="https://tmacmastermind.com/admin.html" class="quick-link" target="_blank">
            <span>Admin Panel</span>
            <svg viewBox="0 0 24 24"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg>
          </a>

          <a href="https://tmacmastermind.com/tee-room.html" class="quick-link" target="_blank">
            <span>The Tee Room</span>
            <svg viewBox="0 0 24 24"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg>
          </a>

          <a href="https://my.captivate.fm/dashboard/podcast/79f2d016-e2fb-4e33-b9cb-403d6c45aa5b/episode" class="quick-link" target="_blank">
            <span>Captivate Podcasts</span>
            <svg viewBox="0 0 24 24"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg>
          </a>
        </div>
      </div>

      <div class="card">
        <h2 class="card-title">Canon Document</h2>
        <p style="font-size: 14px; color: #666; margin-bottom: 16px;">Full Permission-Based Content System documentation</p>
        <a href="#" class="btn btn-primary">Download Rich Friends Canon v2.0</a>
      </div>
    </div>

  </div>

  <script>
    // Initialize Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyA-9xRyX8yOSoejgmq-7ZEdCzQg__ntuHs",
      authDomain: "tee-elite.firebaseapp.com",
      projectId: "tee-elite",
      storageBucket: "tee-elite.firebasestorage.app",
      messagingSenderId: "59306538414",
      appId: "1:59306538414:web:5fbf03f74663775074c43f",
      databaseURL: "https://tee-elite-default-rtdb.firebaseio.com"
    };

    if (!firebase.apps.length) {
      firebase.initializeApp(firebaseConfig);
    }

    const database = firebase.database();
    const TRACKER_PATH = 'permission-system/dr-tmac';

    // Tab Switching
    function switchTab(tabId) {
      document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
      document.querySelectorAll('.nav-tab').forEach(btn => btn.classList.remove('active'));
      
      document.getElementById(tabId).classList.add('active');
      event.target.classList.add('active');
      
      localStorage.setItem('activeTab', tabId);
    }

    // Restore active tab
    window.addEventListener('DOMContentLoaded', () => {
      const activeTab = localStorage.getItem('activeTab') || 'workflow';
      const tabBtn = Array.from(document.querySelectorAll('.nav-tab')).find(btn => 
        btn.textContent.toLowerCase().includes(activeTab.split('-')[0])
      );
      if (tabBtn) tabBtn.click();
    });

    // Checklist Management with Firebase
    function toggleTask(taskId) {
      const taskRef = database.ref(`${TRACKER_PATH}/tasks/${taskId}`);
      
      taskRef.once('value').then(snapshot => {
        const currentValue = snapshot.val() || false;
        taskRef.set(!currentValue);
      });
    }

    // Upload Tracker Management with Firebase
    function toggleUpload(uploadId) {
      const uploadRef = database.ref(`${TRACKER_PATH}/uploads/${uploadId}`);
      
      uploadRef.once('value').then(snapshot => {
        const currentValue = snapshot.val() || false;
        uploadRef.set(!currentValue);
      });
    }

    function updateChecklist() {
      database.ref(`${TRACKER_PATH}/tasks`).on('value', snapshot => {
        const tasks = snapshot.val() || {};
        
        document.querySelectorAll('.checklist-item').forEach(item => {
          const taskId = item.dataset.task;
          const checkbox = item.querySelector('.checklist-checkbox');
          
          if (taskId && checkbox) {
            if (tasks[taskId]) {
              checkbox.classList.add('checked');
            } else {
              checkbox.classList.remove('checked');
            }
          }
        });

        // Update progress
        const totalTasks = 8;
        const completedTasks = Object.values(tasks).filter(Boolean).length;
        const percentage = Math.round((completedTasks / totalTasks) * 100);

        const progressBar = document.getElementById('progressBar');
        const progressText = document.getElementById('progressText');
        
        if (progressBar && progressText) {
          progressBar.style.width = percentage + '%';
          progressText.textContent = `${completedTasks} of ${totalTasks} complete (${percentage}%)`;
        }
      });
    }

    function updateUploadTracker() {
      database.ref(`${TRACKER_PATH}/uploads`).on('value', snapshot => {
        const uploads = snapshot.val() || {};
        
        document.querySelectorAll('[data-upload]').forEach(item => {
          const uploadId = item.dataset.upload;
          const checkbox = item.querySelector('.checklist-checkbox');
          
          if (uploadId && checkbox) {
            if (uploads[uploadId]) {
              checkbox.classList.add('checked');
            } else {
              checkbox.classList.remove('checked');
            }
          }
        });

        // Update count (total of 40 pieces)
        const totalUploaded = Object.values(uploads).filter(Boolean).length;
        const percentage = Math.round((totalUploaded / 40) * 100);

        const uploadedCount = document.getElementById('uploadedCount');
        const uploadPercentage = document.getElementById('uploadPercentage');
        
        if (uploadedCount && uploadPercentage) {
          uploadedCount.textContent = totalUploaded;
          uploadPercentage.textContent = percentage + '%';
        }
      });
    }

    function resetChecklist() {
      if (confirm('Reset all tasks? This will clear your progress.')) {
        database.ref(`${TRACKER_PATH}/tasks`).set({});
      }
    }

    // Collapsible Sections
    function toggleCollapsible(header) {
      const content = header.nextElementSibling;
      const icon = header.querySelector('.collapsible-icon');
      
      content.classList.toggle('open');
      icon.classList.toggle('open');
    }

    // Copy Templates
    function copyTemplate(type) {
      const templates = {
        brief: `Title: TMac Morning Brief | [Month Day, Year]

Excerpt: Daily permission for women ready to stop negotiating with the life they want.

First Line (italic): You already know what to do.

[Observation]
[Truth]
[Permission]

The Tee Elite Truth.`,

        blog: `Title: [Permission Statement]

You already know what to do.

[Observation]

[Story/Pattern]

[Principle]

[Permission]

See you on the course,
Dr. TMacüèåüèΩ‚Äç‚ôÄÔ∏è`,

        podcast: `Opening:
You already know what to do.

This is The Rich Friends Show.

A quiet conversation for women who are done negotiating with the life they want.

Let's begin.

---

Closing:
You already know what to do.`
      };

      navigator.clipboard.writeText(templates[type]).then(() => {
        alert('Template copied to clipboard!');
      });
    }

    // PWA Install
    let deferredPrompt;

    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      document.getElementById('installPrompt').style.display = 'flex';
    });

    function installApp() {
      if (deferredPrompt) {
        deferredPrompt.prompt();
        deferredPrompt.userChoice.then((choiceResult) => {
          if (choiceResult.outcome === 'accepted') {
            console.log('App installed');
          }
          deferredPrompt = null;
          document.getElementById('installPrompt').style.display = 'none';
        });
      }
    }

    function dismissInstall() {
      document.getElementById('installPrompt').style.display = 'none';
      localStorage.setItem('installDismissed', 'true');
    }

    // Initialize on load
    window.addEventListener('DOMContentLoaded', () => {
      updateChecklist();
      updateUploadTracker();
      
      if (localStorage.getItem('installDismissed')) {
        document.getElementById('installPrompt').style.display = 'none';
      }
    });

    // Register Service Worker
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('permission-content-system-sw.js')
        .then(reg => console.log('Service Worker registered'))
        .catch(err => console.log('Service Worker registration failed'));
    }
  </script>

</body>
</html>
